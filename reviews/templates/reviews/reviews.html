{% extends "base.html" %}
{% load static %}
{% block content %}
<!-- reviews.html starts here -->
<div class="hero">
  <div class="reviews-header">
    <h1>Reviews</h1>
  </div>
  <div class="container-fluid">
    <div class="row">

      <!-- Reviews Column -->
      <div class="col-12 mt-3 left">
        <div class="row">
          {% for review in reviews_list %}
          <div class="col-md-4">
            <div class="review-image">
              <!-- Display the image if it exists -->
              {% if review.image %}
              <img src="{{ review.image.url }}" alt="Review image">
              {% else %}
              <img src="{% static 'images/defaultimage.jpg' %}" alt="Mojo Logo">
              {% endif %}
            </div>
            <div class="card mb-4 review-cards" style="width: 18rem;">
              <div class="card-body">
                <h5 class="card-title">{{ review.author }}</h5>
                <p class="card-text">{{ review.content }}</p>
                <p>
                  <span class="star-rating" data-rating="{{ review.rating }}"></span>
                </p>
                <a href="{% url 'review_detail' review.pk %}" class="btn btn-primary">See Review</a>
                {% if user.is_authenticated and review.author == user %}
                <a href="{% url 'review_edit' review.pk %}" class="btn btn-primary">Edit/Delete Review</a>
                {% endif %}
              </div>
            </div>
          </div>
          {% if forloop.counter|divisibleby:4 %}
        </div>
        <div class="row">
          {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>

  {% endblock content %}
  {% block extras %}
    <script src="{% static 'js/stars.js' %}"></script>
    <script src="{% static 'js/delete-review.js' %}"></script>
  {% endblock %}